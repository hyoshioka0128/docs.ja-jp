---
title: 概要-WCF 開発者向け gRPC
description: はじめに
ms.date: 09/02/2019
ms.openlocfilehash: 3fb7ae440f65cc2daa2a2c984d01d0c0c1eac0aa
ms.sourcegitcommit: f348c84443380a1959294cdf12babcb804cfa987
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/12/2019
ms.locfileid: "73967621"
---
# <a name="introduction"></a>はじめに

コンピューター間の通信を支援することは、デジタル時代の主要 preoccupations の1つでした。 具体的には、現在のインフラストラクチャの相互運用性の要件を満たす最適なリモート通信メカニズムを決定するために、継続的な取り組みが行われています。 ご想像のとおり、このメカニズムは、要求またはインフラストラクチャの進化に伴って変化します。

.NET Core 3.0 のリリースでは、さまざまなプラットフォームでサービスを提供する開発者に、Microsoft がリモート通信ソリューションを提供する方法でシフトがマークされています。 .NET Core では、そのまま Windows Communication Foundation (WCF) は提供されませんが、バージョン ASP.NET Core 3.0 のリリースでは、組み込みの gRPC 機能が提供されています。

gRPC は、広く使用されているソフトウェアコミュニティで広く普及しているフレームワークであり、多くのプログラミング言語で開発者が最新の RPC シナリオを実現するために使用します。 コミュニティとエコシステムは、Kubernetes、サービスメッシュ、ロードバランサーなどのインフラストラクチャコンポーネントに追加される gRPC プロトコルのサポートにより、活気とアクティブなものになっています。 これらの要因、パフォーマンス、効率性、クロスプラットフォームの互換性により、gRPC は、新しいアプリと WCF アプリを .NET Core に移行するための自然な選択肢となります。

## <a name="history"></a>履歴

コンピューターネットワークの基本的な原則は、相互にデータを交換するコンピューターのグループだけでなく、相互に関連する一連のタスクを実現するためにデータを交換することではありません。 しかし、複雑さ、規模、および期待は指数関数的に増加しています。  

1990年代には、主に、同じ言語とプラットフォームを使用して内部ネットワークを強化することに重点を置いていました。 TCP/IP は、この種の通信のゴールド標準になっています。

しかし、ここでは、言語に依存しないアプローチを推進する、複数のプラットフォーム間での通信を最適化する最善の方法に焦点を合わせています。 サービス指向アーキテクチャ (SOA) は、アプリケーションに提供される可能性のある広範なサービスのコレクションを疎結合するための構造を提供しました。

*Web サービス*の開発は、すべての主要なプラットフォームがインターネットにアクセスできるようになったときに発生しましたが、相互にやり取りすることはできませんでした。 Web サービスには、次のようなオープン標準とプロトコルがあります。

- タグとコードデータに対する XML
- データを転送するための簡易オブジェクトアクセスプロトコル (SOAP)。
- Web サービス定義言語 (WSDL) – web サービスについて説明し、クライアントアプリケーションに接続します。*および*
- Universal Description Discovery 統合 (UDDI)-他のサービスが Web サービスを検出できるようにします。

SOAP では、アプリケーションの分散要素が異なるプラットフォームにいる場合でも相互に通信できる規則を定義します。 SOAP は XML に基づいているため、人間が判読できます。 SOAP を簡単に理解できるようにするための犠牲はサイズです。SOAP メッセージは、同等のプロトコルのメッセージよりも大きくなります。 SOAP は、モノリシックアプリケーションを、セキュリティや制御を損なうことなく複数コンポーネントの形式に分割するように設計されています。 したがって、WCF は、分散システムとして開始された gRPC とは異なり、この種のシステムで動作するように設計されています。 WCF では、SOAP スタック用に専用の拡張プロトコルを開発および文書化することによって、これらの制限の一部を解決しましたが、他のプラットフォームからのサポートがないという代償があります。

Windows Communication Foundation は、サービスを構築するためのフレームワークです。 このように設計されたのは、開発者が初期の SOA を使用して SOAP を操作する複雑さを管理できるようにするためです。 開発者が独自の SOAP プロトコルを記述する必要はありませんが、WCF では引き続き SOAP を使用して他のシステムとの相互運用性を実現しています。 また、WCF は、複数のプロトコル (HTTP/1.1、NetTCP など) にわたってソリューションを提供するように設計されています。

## <a name="microservices"></a>マイクロサービス

マイクロサービスアーキテクチャでは、大規模なアプリケーションは、より小さなモジュールサービスのコレクションとして構築されます。 各コンポーネントは特定のタスクまたはプロセスを実行し、コンポーネントは interoperably 動作するように設計されていますが、必要に応じて分離することができます。

マイクロサービスの利点は次のとおりです。

- 変更とアップグレードは個別に処理できます。
- エラー処理は、他のサービスとは独立して、分離、再構築、テスト、および再デプロイされる特定のサービスに問題がトレースされるため、より効率的になります。
- スケーラビリティは、アプリケーション全体ではなく、特定のインスタンスまたはサービスに限定できます。
- 開発は複数のチームで行うことができますが、多くのチームが1つのコードベースで作業する場合と比べて、摩擦が少なくて済みます。

仮想化、クラウドコンピューティング、コンテナー、モノのインターネットの増加に向けた移行は、マイクロサービスの継続的な増加に貢献しています。 しかし、マイクロサービスの課題はありません。 断片化された/分散型インフラストラクチャは、サービス間の通信を容易にするためのニーズに重点を置きます。 これは、SOAP の性質によっては、手間がかかる場合があります。

これは、gRPC が起動されたこの環境にあり、Microsoft 最初に WCF をリリースしてから10年後に導入されました。 GRPC は、Google の内部インフラストラクチャ RPC (Stubby) から直接発展してきましたが、以前の多くの Rpc のパラメーターを通知したのと同じ標準とプロトコルに基づいていませんでした。 また、gRPC は HTTP/2 のみに基づいており、高度なトランスポートプロトコルによって提供される新しい機能にも対応できます。 特に、双方向ストリーミング、バイナリメッセージング、多重化です。

## <a name="about-this-guide"></a>このガイドについて

このガイドでは、gRPC の主要な機能について説明します。 初期の章では、WCF の主な機能について大まかに説明し、それらを gRPC と比較します。 ここでは、が WCF と gRPC の間の直接的な相関関係であること、および gRPC が利点を提供する場所を特定します。 WCF と gRPC の間に相関関係がない場合、または gRPC が WCF に相当するソリューションを提供できない場合、このガイドでは回避策を提示するか、さらに詳しい情報について説明します。

一連のサンプル WCF アプリケーションを使用して、主要な WCF サービスの種類 (単純な要求/応答、一方向、ストリーミング) を gRPC で同等のものに変換する方法について詳しく説明します。

本の最後のセクションでは、gRPC に最適な方法を紹介しています。たとえば、Docker コンテナーや Kubernetes などの追加ツールを使用して gRPC の効率性を向上させることができます。また、ログ記録、メトリック、および分散の監視についても詳しく説明しています。トレース.

## <a name="whom-this-guide-is-for"></a>このガイドの対象ユーザー

このガイドは、.NET Framework または .NET Core で作業している開発者の中でも、以前に WCF を使用したことがある方々、使用しているアプリケーションを .NET Core 3.0 以降のバージョン用の最新の RPC 環境に移行しようとしている方々向けに作成されています。 また、このガイドは、.NET Core 3.0 へのアップグレードを実施または検討している開発者で、組み込みの gRPC ツールの使用を希望している方々にとっても一般的に役立つ場合があります。

>[!div class="step-by-step"]
>[前へ](index.md)
>[次へ](grpc-overview.md)
